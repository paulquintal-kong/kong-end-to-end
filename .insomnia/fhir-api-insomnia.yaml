type: spec.insomnia.rest/5.0
schema_version: "5.1"
name: FHIR API for Patient, Observation, Encounter, Condition, and Medication
  (Smile CDR Compatible) 1.0.1
meta:
  id: wrk_8482e43ebd4e4c63923f4f78a48863ce
  created: 1767666825782
  modified: 1767666825782
  description: ""
collection:
  - name: Patient
    meta:
      id: fld_455a2d36511e4d16ae4f5ef00cccafc3
      created: 1767670610173
      modified: 1767749257462
      sortKey: -1767670610173
      description: Operations related to Patient resources
    children:
      - url: "{{ _.base_url }}/Patient"
        name: Search for Patient resources
        meta:
          id: req_852290d298764ab89ed11772fccdb4b3
          created: 1767670610176
          modified: 1767677160978
          isPrivate: false
          description: Returns a bundle of Patient resources based on search criteria.
          sortKey: -1767670610176
        method: GET
        parameters:
          - name: _count
            value: "10"
          - name: _offset
            value: "0"
        authentication:
          type: none
          grantType: authorization_code
          accessTokenUrl: https://example.com/oauth/token
          authorizationUrl: https://example.com/oauth/authorize
          clientId: "{{ _.oauth2ClientId }}"
          clientSecret: "{{ _.oauth2ClientSecret }}"
          scope: patient/Patient.read
          redirectUrl: "{{ _.oauth2RedirectUrl }}"
        scripts:
          afterResponse: >
            const statusCode = insomnia.response.code;

            const jsonBody = insomnia.response.json();


            // Test 1: Verify status code is 200

            insomnia.test('Check if status is 200', () => {
                insomnia.expect(insomnia.response.code).to.eql(200);
            });



            // Test 2: Verify response is valid FHIR Patient Bundle

            insomnia.test('Check if Resonse Body is a Resoure Bundle', () => {
               insomnia.expect(jsonBody.resourceType).to.eql("Bundle");
            	 insomnia.expect(jsonBody.entry[0].resource.resourceType).to.eql("Patient");
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/Patient"
        name: Create a new Patient resource
        meta:
          id: req_1fa6958d8eda4b61a32502a128fbf6e2
          created: 1767670610177
          modified: 1767749270923
          isPrivate: false
          description: Creates a new Patient resource.
          sortKey: -1767670610177
        method: POST
        body:
          mimeType: application/fhir+json
          text: |-
            {
              "resourceType": "Patient",
              "id": "string",
              "identifier": [
                {
                  "system": "http://example.com/fhir/patient-identifier",
                  "value": "12345"
                }
              ],
              "name": [
                {
                  "family": "Sponge",
                  "given": [
                    "Bob"
                  ]
                }
              ],
              "gender": "male",
              "birthDate": "1980-01-01",
              "telecom": [
                {
                  "system": "phone",
                  "value": "555-555-5555"
                }
              ]
            }
        headers:
          - name: Content-Type
            value: application/fhir+json
            disabled: false
        authentication:
          type: none
          grantType: authorization_code
          accessTokenUrl: https://example.com/oauth/token
          authorizationUrl: https://example.com/oauth/authorize
          clientId: "{{ _.oauth2ClientId }}"
          clientSecret: "{{ _.oauth2ClientSecret }}"
          scope: patient/Patient.write
          redirectUrl: "{{ _.oauth2RedirectUrl }}"
        scripts:
          afterResponse: >-
            const statusCode = insomnia.response.code;

            const jsonBody = insomnia.response.json();


            // Save 'id' from the response to an environment variable named
            'sharedId'

            insomnia.environment.set("id", jsonBody.id);


            // Test 1: Verify status code is 201

            insomnia.test('Check if status is 201', () => {
                insomnia.expect(insomnia.response.code).to.eql(201);
            });



            // Test 2: Verify response is valid FHIR Patient Bundle

            insomnia.test('Check if Resonse Body is a Patient Resoure', () => {
               insomnia.expect(jsonBody.resourceType).to.eql("Patient");
            });


            // Test 3: Verify a new Patient with Id has been created
             insomnia.test('Check for Patient Id', () => {
                insomnia.expect(jsonBody.id).to.match(/^[0-9]+$/); 
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/Patient/{{ _.id }}"
        name: Retrieve a Patient resource by ID
        meta:
          id: req_763514288cf94b99959fd675478aea63
          created: 1767670610178
          modified: 1767748755836
          isPrivate: false
          description: Returns a specific Patient resource based on its ID.
          sortKey: -1767670610178
        method: GET
        authentication:
          type: none
          grantType: authorization_code
          accessTokenUrl: https://example.com/oauth/token
          authorizationUrl: https://example.com/oauth/authorize
          clientId: "{{ _.oauth2ClientId }}"
          clientSecret: "{{ _.oauth2ClientSecret }}"
          scope: patient/Patient.read
          redirectUrl: "{{ _.oauth2RedirectUrl }}"
        scripts:
          afterResponse: |-
            const statusCode = insomnia.response.code;
            const jsonBody = insomnia.response.json();
            const sentUrl = insomnia.request.url;

            // Test 1: Verify status code is 200
            insomnia.test('Check if status is 200', () => {
                insomnia.expect(insomnia.response.code).to.eql(200);
            });


            // Test 2: Verify response is valid FHIR Patient Bundle
            insomnia.test('Check if Resonse Body is a Patient Resoure', () => {
               insomnia.expect(jsonBody.resourceType).to.eql("Patient");
            });

            // Test 3: Verify that the input ID matches the response
            insomnia.test('Check request Patient Id matches response', () => {
                // 1. Attempt to retrieve the variable
                const val = insomnia.environment.get('id');
                console.log('DEBUG Input ID:',  val);

            	  // 2. get the value of response
                const rsp = jsonBody.id;
                console.log('DEBUG output ID:', rsp);
            	
            	 // 3/ Compare values match
            	insomnia.expect(val).to.eql(rsp);

            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: Observation
    meta:
      id: fld_a9426faa5bb5485db1881d93a8755b4b
      created: 1767670610174
      modified: 1767670610174
      sortKey: -1767670610174
      description: Operations related to Observation resources
    children:
      - url: "{{ _.base_url }}/Observation"
        name: Create a new Observation resource
        meta:
          id: req_29d50e8108d0400c85e0ca63ff492abf
          created: 1767670610178
          modified: 1767670610178
          isPrivate: false
          description: Creates a new Observation resource.
          sortKey: -1767670610178
        method: POST
        body:
          mimeType: application/fhir+json
        headers:
          - name: Content-Type
            value: application/fhir+json
            disabled: false
        authentication:
          type: none
          grantType: authorization_code
          accessTokenUrl: https://example.com/oauth/token
          authorizationUrl: https://example.com/oauth/authorize
          clientId: "{{ _.oauth2ClientId }}"
          clientSecret: "{{ _.oauth2ClientSecret }}"
          scope: patient/Observation.write
          redirectUrl: "{{ _.oauth2RedirectUrl }}"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/Observation"
        name: Search for Observation resources
        meta:
          id: req_5b6ca8f0442c45e3aaa1bae5388e64c4
          created: 1767670610178
          modified: 1767670610178
          isPrivate: false
          description: Returns a bundle of Observation resources based on search criteria.
          sortKey: -1767670610178
        method: GET
        parameters:
          - name: patient
            value: string
          - name: code
            value: string
          - name: _count
            value: "10"
          - name: _offset
            value: "0"
        authentication:
          type: none
          grantType: authorization_code
          accessTokenUrl: https://example.com/oauth/token
          authorizationUrl: https://example.com/oauth/authorize
          clientId: "{{ _.oauth2ClientId }}"
          clientSecret: "{{ _.oauth2ClientSecret }}"
          scope: patient/Observation.read
          redirectUrl: "{{ _.oauth2RedirectUrl }}"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/Observation/{{ _.id }}"
        name: Retrieve an Observation resource by ID
        meta:
          id: req_bb7584a660544e5a932213d37628d9e5
          created: 1767670610179
          modified: 1767670610179
          isPrivate: false
          description: Returns a specific Observation resource based on its ID.
          sortKey: -1767670610179
        method: GET
        authentication:
          type: none
          grantType: authorization_code
          accessTokenUrl: https://example.com/oauth/token
          authorizationUrl: https://example.com/oauth/authorize
          clientId: "{{ _.oauth2ClientId }}"
          clientSecret: "{{ _.oauth2ClientSecret }}"
          scope: patient/Observation.read
          redirectUrl: "{{ _.oauth2RedirectUrl }}"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: Condition
    meta:
      id: fld_7e70af8c8b0d4b55985a3073feb9ee6b
      created: 1767670610175
      modified: 1767670610175
      sortKey: -1767670610175
      description: Operations related to Condition resources
    children:
      - url: "{{ _.base_url }}/Condition"
        name: Search for Condition resources
        meta:
          id: req_6eb7ed2542484128b2e1f10a8b3e5447
          created: 1767670610180
          modified: 1767670610180
          isPrivate: false
          description: Returns a bundle of Condition resources based on search criteria.
          sortKey: -1767670610180
        method: GET
        parameters:
          - name: patient
            value: string
          - name: _count
            value: "10"
          - name: _offset
            value: "0"
        authentication:
          type: none
          grantType: authorization_code
          accessTokenUrl: https://example.com/oauth/token
          authorizationUrl: https://example.com/oauth/authorize
          clientId: "{{ _.oauth2ClientId }}"
          clientSecret: "{{ _.oauth2ClientSecret }}"
          scope: patient/Condition.read
          redirectUrl: "{{ _.oauth2RedirectUrl }}"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/Condition/{{ _.id }}"
        name: Retrieve a Condition resource by ID
        meta:
          id: req_8073fd7af7be438ebb82f1edc807d9a2
          created: 1767670610181
          modified: 1767670610181
          isPrivate: false
          description: Returns a specific Condition resource based on its ID.
          sortKey: -1767670610181
        method: GET
        authentication:
          type: none
          grantType: authorization_code
          accessTokenUrl: https://example.com/oauth/token
          authorizationUrl: https://example.com/oauth/authorize
          clientId: "{{ _.oauth2ClientId }}"
          clientSecret: "{{ _.oauth2ClientSecret }}"
          scope: patient/Condition.read
          redirectUrl: "{{ _.oauth2RedirectUrl }}"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/Condition"
        name: Create a new Condition resource
        meta:
          id: req_d8cb5eb318574466a5ea9514307ba380
          created: 1767670610181
          modified: 1767670610181
          isPrivate: false
          description: Creates a new Condition resource.
          sortKey: -1767670610181
        method: POST
        body:
          mimeType: application/fhir+json
        headers:
          - name: Content-Type
            value: application/fhir+json
            disabled: false
        authentication:
          type: none
          grantType: authorization_code
          accessTokenUrl: https://example.com/oauth/token
          authorizationUrl: https://example.com/oauth/authorize
          clientId: "{{ _.oauth2ClientId }}"
          clientSecret: "{{ _.oauth2ClientSecret }}"
          scope: patient/Condition.write
          redirectUrl: "{{ _.oauth2RedirectUrl }}"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: Encounter
    meta:
      id: fld_96b6b3938dd14bc185ccb57031a5d4de
      created: 1767670610175
      modified: 1767670610175
      sortKey: -1767670610175
      description: Operations related to Encounter resources
    children:
      - url: "{{ _.base_url }}/Encounter"
        name: Create a new Encounter resource
        meta:
          id: req_5717edb0f3c344abb265c4e6da92169b
          created: 1767670610179
          modified: 1767670610179
          isPrivate: false
          description: Creates a new Encounter resource.
          sortKey: -1767670610179
        method: POST
        body:
          mimeType: application/fhir+json
        headers:
          - name: Content-Type
            value: application/fhir+json
            disabled: false
        authentication:
          type: none
          grantType: authorization_code
          accessTokenUrl: https://example.com/oauth/token
          authorizationUrl: https://example.com/oauth/authorize
          clientId: "{{ _.oauth2ClientId }}"
          clientSecret: "{{ _.oauth2ClientSecret }}"
          scope: patient/Encounter.write
          redirectUrl: "{{ _.oauth2RedirectUrl }}"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/Encounter"
        name: Search for Encounter resources
        meta:
          id: req_9fd436c7fcdc4f94a6a1f59604c63d14
          created: 1767670610179
          modified: 1767670610179
          isPrivate: false
          description: Returns a bundle of Encounter resources based on search criteria.
          sortKey: -1767670610179
        method: GET
        parameters:
          - name: patient
            value: string
          - name: _count
            value: "10"
          - name: _offset
            value: "0"
        authentication:
          type: none
          grantType: authorization_code
          accessTokenUrl: https://example.com/oauth/token
          authorizationUrl: https://example.com/oauth/authorize
          clientId: "{{ _.oauth2ClientId }}"
          clientSecret: "{{ _.oauth2ClientSecret }}"
          scope: patient/Encounter.read
          redirectUrl: "{{ _.oauth2RedirectUrl }}"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/Encounter/{{ _.id }}"
        name: Retrieve an Encounter resource by ID
        meta:
          id: req_135a6eb065114f6fac7db4d248d65a46
          created: 1767670610180
          modified: 1767670610180
          isPrivate: false
          description: Returns a specific Encounter resource based on its ID.
          sortKey: -1767670610180
        method: GET
        authentication:
          type: none
          grantType: authorization_code
          accessTokenUrl: https://example.com/oauth/token
          authorizationUrl: https://example.com/oauth/authorize
          clientId: "{{ _.oauth2ClientId }}"
          clientSecret: "{{ _.oauth2ClientSecret }}"
          scope: patient/Encounter.read
          redirectUrl: "{{ _.oauth2RedirectUrl }}"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: Medication
    meta:
      id: fld_1d5e848d251c4188b5289ade8eb72704
      created: 1767670610176
      modified: 1767670610176
      sortKey: -1767670610176
      description: Operations related to Medication resources
    children:
      - url: "{{ _.base_url }}/Medication"
        name: Search for Medication resources
        meta:
          id: req_82f4fab81c7a44889fa1dc32f7f3a38f
          created: 1767670610181
          modified: 1767670610181
          isPrivate: false
          description: Returns a bundle of Medication resources based on search criteria.
          sortKey: -1767670610181
        method: GET
        parameters:
          - name: code
            value: string
          - name: _count
            value: "10"
          - name: _offset
            value: "0"
        authentication:
          type: none
          grantType: authorization_code
          accessTokenUrl: https://example.com/oauth/token
          authorizationUrl: https://example.com/oauth/authorize
          clientId: "{{ _.oauth2ClientId }}"
          clientSecret: "{{ _.oauth2ClientSecret }}"
          scope: patient/Medication.read
          redirectUrl: "{{ _.oauth2RedirectUrl }}"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/Medication/{{ _.id }}"
        name: Retrieve a Medication resource by ID
        meta:
          id: req_241e0916f4ef4f8c98a1e16c4cdab808
          created: 1767670610182
          modified: 1767670610182
          isPrivate: false
          description: Returns a specific Medication resource based on its ID.
          sortKey: -1767670610182
        method: GET
        authentication:
          type: none
          grantType: authorization_code
          accessTokenUrl: https://example.com/oauth/token
          authorizationUrl: https://example.com/oauth/authorize
          clientId: "{{ _.oauth2ClientId }}"
          clientSecret: "{{ _.oauth2ClientSecret }}"
          scope: patient/Medication.read
          redirectUrl: "{{ _.oauth2RedirectUrl }}"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/Medication"
        name: Create a new Medication resource
        meta:
          id: req_2f5856a96afa4e6bbc3b2588b9589731
          created: 1767670610182
          modified: 1767670610182
          isPrivate: false
          description: Creates a new Medication resource.
          sortKey: -1767670610182
        method: POST
        body:
          mimeType: application/fhir+json
        headers:
          - name: Content-Type
            value: application/fhir+json
            disabled: false
        authentication:
          type: none
          grantType: authorization_code
          accessTokenUrl: https://example.com/oauth/token
          authorizationUrl: https://example.com/oauth/authorize
          clientId: "{{ _.oauth2ClientId }}"
          clientSecret: "{{ _.oauth2ClientSecret }}"
          scope: patient/Medication.write
          redirectUrl: "{{ _.oauth2RedirectUrl }}"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
cookieJar:
  name: Default Jar
  meta:
    id: jar_f793916b891c7e40072f75c1b95828afa3a7b74c
    created: 1767666828068
    modified: 1767749257460
environments:
  name: Base Environment
  meta:
    id: env_f793916b891c7e40072f75c1b95828afa3a7b74c
    created: 1767666825785
    modified: 1767749257462
    isPrivate: false
  data:
    base_url: "{{ _.scheme }}://{{ _.host }}{{ _.base_path }}"
  subEnvironments:
        host: asia-bosker-renna.ngrok-free.dev
      meta:
        id: env_2da8b17bb7404fc7a64661ac43b421d2
        created: 1767670610173
        modified: 1767749257462
        isPrivate: false
        sortKey: 1767670610173
      data:
        scheme: https
        base_path: /fhir
        host: asia-bosker-renna.ngrok-free.dev
        xApiKey: xApiKey
        oauth2ClientId: clientId
        oauth2RedirectUrl: http://localhost/
        oauth2ClientSecret: clientSecret
        id: "patient-1013"
    - name: CI
      meta:
        id: env_ci_github_actions_auto
        created: 1736286000000
        modified: 1736286000000
        isPrivate: false
        sortKey: 1736286000000
      data:
        scheme: https
        base_path: /fhir
        host: asia-bosker-renna.ngrok-free.dev
        xApiKey: xApiKey
        oauth2ClientId: clientId
        oauth2RedirectUrl: http://localhost/
        oauth2ClientSecret: clientSecret
        id: "patient-1013"
spec:
  contents:
    openapi: 3.1.0
    info:
      title: FHIR API for Patient, Observation, Encounter, Condition, and Medication
        (Smile CDR Compatible)
      description: >
        This API provides access to FHIR resources including Patient,
        Observation, Encounter, Condition, and Medication. It is designed to be
        compatible with Smile CDR.


        **Note:** This specification provides a basic structure and may need to
        be extended with Smile CDR specific profiles and extensions for full
        compatibility.
      version: 1.0.1
      contact:
        name: API Support
        email: api-support@konghq.com
    servers:
      - url: http://localhost:8080/fhir
        description: Smile CDR FHIR Server (R4)
    tags:
      - name: Patient
        description: Operations related to Patient resources
      - name: Observation
        description: Operations related to Observation resources
      - name: Encounter
        description: Operations related to Encounter resources
      - name: Condition
        description: Operations related to Condition resources
      - name: Medication
        description: Operations related to Medication resources
    paths:
      /Patient:
        get:
          summary: Search for Patient resources
          description: Returns a bundle of Patient resources based on search criteria.
          operationId: searchPatient
          tags:
            - Patient
          security:
            - OAuth2:
                - patient/Patient.read
          parameters:
            - name: _count
              in: query
              description: The maximum number of resources to return in a page.
              schema:
                type: integer
                format: int32
                default: 10
                maximum: 100
            - name: _offset
              in: query
              description: The number of results to skip for pagination.
              schema:
                type: integer
                format: int32
                default: 0
          responses:
            "200":
              description: Successful search
              content:
                application/fhir+json:
                  schema:
                    $ref: "#/components/schemas/PatientBundle"
            "400":
              description: Bad Request
            "404":
              description: Not Found
        post:
          summary: Create a new Patient resource
          description: Creates a new Patient resource.
          operationId: createPatient
          tags:
            - Patient
          security:
            - OAuth2:
                - patient/Patient.write
          requestBody:
            description: The Patient resource to create.
            required: true
            content:
              application/fhir+json:
                schema:
                  $ref: "#/components/schemas/Patient"
          responses:
            "201":
              description: Patient resource created successfully
              content:
                application/fhir+json:
                  schema:
                    $ref: "#/components/schemas/Patient"
            "400":
              description: Bad Request
            "404":
              description: Not Found
      /Patient/{id}:
        get:
          summary: Retrieve a Patient resource by ID
          description: Returns a specific Patient resource based on its ID.
          operationId: getPatientById
          tags:
            - Patient
          security:
            - OAuth2:
                - patient/Patient.read
          parameters:
            - name: id
              in: path
              description: The ID of the Patient resource to retrieve.
              required: true
              schema:
                type: string
          responses:
            "200":
              description: Successful retrieval
              content:
                application/fhir+json:
                  schema:
                    $ref: "#/components/schemas/Patient"
            "400":
              description: Bad Request
            "404":
              description: Patient resource not found
      /Observation:
        get:
          summary: Search for Observation resources
          description: Returns a bundle of Observation resources based on search criteria.
          operationId: searchObservation
          tags:
            - Observation
          security:
            - OAuth2:
                - patient/Observation.read
          parameters:
            - name: patient
              in: query
              description: The ID of the patient associated with the observation.
              schema:
                type: string
            - name: code
              in: query
              description: The code of the observation.
              schema:
                type: string
            - name: _count
              in: query
              description: The maximum number of resources to return in a page.
              schema:
                type: integer
                format: int32
                default: 10
                maximum: 100
            - name: _offset
              in: query
              description: The number of results to skip for pagination.
              schema:
                type: integer
                format: int32
                default: 0
          responses:
            "200":
              description: Successful search
              content:
                application/fhir+json:
                  schema:
                    $ref: "#/components/schemas/ObservationBundle"
            "400":
              description: Bad Request
            "404":
              description: Not Found
        post:
          summary: Create a new Observation resource
          description: Creates a new Observation resource.
          operationId: createObservation
          tags:
            - Observation
          security:
            - OAuth2:
                - patient/Observation.write
          requestBody:
            description: The Observation resource to create.
            required: true
            content:
              application/fhir+json:
                schema:
                  $ref: "#/components/schemas/Observation"
          responses:
            "201":
              description: Observation resource created successfully
              content:
                application/fhir+json:
                  schema:
                    $ref: "#/components/schemas/Observation"
            "400":
              description: Bad Request
            "404":
              description: Not Found
      /Observation/{id}:
        get:
          summary: Retrieve an Observation resource by ID
          description: Returns a specific Observation resource based on its ID.
          operationId: getObservationById
          tags:
            - Observation
          security:
            - OAuth2:
                - patient/Observation.read
          parameters:
            - name: id
              in: path
              description: The ID of the Observation resource to retrieve.
              required: true
              schema:
                type: string
          responses:
            "200":
              description: Successful retrieval
              content:
                application/fhir+json:
                  schema:
                    $ref: "#/components/schemas/Observation"
            "400":
              description: Bad Request
            "404":
              description: Observation resource not found
      /Encounter:
        get:
          summary: Search for Encounter resources
          description: Returns a bundle of Encounter resources based on search criteria.
          operationId: searchEncounter
          tags:
            - Encounter
          security:
            - OAuth2:
                - patient/Encounter.read
          parameters:
            - name: patient
              in: query
              description: The ID of the patient associated with the encounter.
              schema:
                type: string
            - name: _count
              in: query
              description: The maximum number of resources to return in a page.
              schema:
                type: integer
                format: int32
                default: 10
                maximum: 100
            - name: _offset
              in: query
              description: The number of results to skip for pagination.
              schema:
                type: integer
                format: int32
                default: 0
          responses:
            "200":
              description: Successful search
              content:
                application/fhir+json:
                  schema:
                    $ref: "#/components/schemas/EncounterBundle"
            "400":
              description: Bad Request
            "404":
              description: Not Found
        post:
          summary: Create a new Encounter resource
          description: Creates a new Encounter resource.
          operationId: createEncounter
          tags:
            - Encounter
          security:
            - OAuth2:
                - patient/Encounter.write
          requestBody:
            description: The Encounter resource to create.
            required: true
            content:
              application/fhir+json:
                schema:
                  $ref: "#/components/schemas/Encounter"
          responses:
            "201":
              description: Encounter resource created successfully
              content:
                application/fhir+json:
                  schema:
                    $ref: "#/components/schemas/Encounter"
            "400":
              description: Bad Request
            "404":
              description: Not Found
      /Encounter/{id}:
        get:
          summary: Retrieve an Encounter resource by ID
          description: Returns a specific Encounter resource based on its ID.
          operationId: getEncounterById
          tags:
            - Encounter
          security:
            - OAuth2:
                - patient/Encounter.read
          parameters:
            - name: id
              in: path
              description: The ID of the Encounter resource to retrieve.
              required: true
              schema:
                type: string
          responses:
            "200":
              description: Successful retrieval
              content:
                application/fhir+json:
                  schema:
                    $ref: "#/components/schemas/Encounter"
            "400":
              description: Bad Request
            "404":
              description: Encounter resource not found
      /Condition:
        get:
          summary: Search for Condition resources
          description: Returns a bundle of Condition resources based on search criteria.
          operationId: searchCondition
          tags:
            - Condition
          security:
            - OAuth2:
                - patient/Condition.read
          parameters:
            - name: patient
              in: query
              description: The ID of the patient associated with the condition.
              schema:
                type: string
            - name: _count
              in: query
              description: The maximum number of resources to return in a page.
              schema:
                type: integer
                format: int32
                default: 10
                maximum: 100
            - name: _offset
              in: query
              description: The number of results to skip for pagination.
              schema:
                type: integer
                format: int32
                default: 0
          responses:
            "200":
              description: Successful search
              content:
                application/fhir+json:
                  schema:
                    $ref: "#/components/schemas/ConditionBundle"
            "400":
              description: Bad Request
            "404":
              description: Not Found
        post:
          summary: Create a new Condition resource
          description: Creates a new Condition resource.
          operationId: createCondition
          tags:
            - Condition
          security:
            - OAuth2:
                - patient/Condition.write
          requestBody:
            description: The Condition resource to create.
            required: true
            content:
              application/fhir+json:
                schema:
                  $ref: "#/components/schemas/Condition"
          responses:
            "201":
              description: Condition resource created successfully
              content:
                application/fhir+json:
                  schema:
                    $ref: "#/components/schemas/Condition"
            "400":
              description: Bad Request
            "404":
              description: Not Found
      /Condition/{id}:
        get:
          summary: Retrieve a Condition resource by ID
          description: Returns a specific Condition resource based on its ID.
          operationId: getConditionById
          tags:
            - Condition
          security:
            - OAuth2:
                - patient/Condition.read
          parameters:
            - name: id
              in: path
              description: The ID of the Condition resource to retrieve.
              required: true
              schema:
                type: string
          responses:
            "200":
              description: Successful retrieval
              content:
                application/fhir+json:
                  schema:
                    $ref: "#/components/schemas/Condition"
            "400":
              description: Bad Request
            "404":
              description: Condition resource not found
      /Medication:
        get:
          summary: Search for Medication resources
          description: Returns a bundle of Medication resources based on search criteria.
          operationId: searchMedication
          tags:
            - Medication
          security:
            - OAuth2:
                - patient/Medication.read
          parameters:
            - name: code
              in: query
              description: The code of the medication.
              schema:
                type: string
            - name: _count
              in: query
              description: The maximum number of resources to return in a page.
              schema:
                type: integer
                format: int32
                default: 10
                maximum: 100
            - name: _offset
              in: query
              description: The number of results to skip for pagination.
              schema:
                type: integer
                format: int32
                default: 0
          responses:
            "200":
              description: Successful search
              content:
                application/fhir+json:
                  schema:
                    $ref: "#/components/schemas/MedicationBundle"
            "400":
              description: Bad Request
            "404":
              description: Not Found
        post:
          summary: Create a new Medication resource
          description: Creates a new Medication resource.
          operationId: createMedication
          tags:
            - Medication
          security:
            - OAuth2:
                - patient/Medication.write
          requestBody:
            description: The Medication resource to create.
            required: true
            content:
              application/fhir+json:
                schema:
                  $ref: "#/components/schemas/Medication"
          responses:
            "201":
              description: Medication resource created successfully
              content:
                application/fhir+json:
                  schema:
                    $ref: "#/components/schemas/Medication"
            "400":
              description: Bad Request
            "404":
              description: Not Found
      /Medication/{id}:
        get:
          summary: Retrieve a Medication resource by ID
          description: Returns a specific Medication resource based on its ID.
          operationId: getMedicationById
          tags:
            - Medication
          security:
            - OAuth2:
                - patient/Medication.read
          parameters:
            - name: id
              in: path
              description: The ID of the Medication resource to retrieve.
              required: true
              schema:
                type: string
          responses:
            "200":
              description: Successful retrieval
              content:
                application/fhir+json:
                  schema:
                    $ref: "#/components/schemas/Medication"
            "400":
              description: Bad Request
            "404":
              description: Medication resource not found
    components:
      schemas:
        Patient:
          type: object
          description: A FHIR Patient resource
          required:
            - id
            - identifier
            - name
            - birthDate
            - gender
          properties:
            resourceType:
              type: string
              example: Patient
            id:
              type: string
              description: Logical id of this artifact
              example: string
            identifier:
              type: array
              items:
                type: object
                required:
                  - system
                  - value
                properties:
                  system:
                    type: string
                    example: http://example.com/fhir/patient-identifier
                  value:
                    type: string
                    example: "12345"
            name:
              type: array
              items:
                type: object
                required:
                  - family
                  - given
                properties:
                  family:
                    type: string
                    example: Doe
                  given:
                    type: array
                    items:
                      type: string
                      example: John
            gender:
              type: string
              enum:
                - male
                - female
                - other
                - unknown
              example: male
            birthDate:
              type: string
              format: date
              example: 1970-01-01
            telecom:
              type: array
              items:
                type: object
                properties:
                  system:
                    type: string
                    enum:
                      - phone
                      - email
                      - fax
                      - pager
                      - url
                      - sms
                      - other
                    example: phone
                  value:
                    type: string
                    example: 555-555-5555
        PatientBundle:
          type: object
          description: A FHIR Bundle resource containing Patient resources
          properties:
            resourceType:
              type: string
              example: Bundle
            type:
              type: string
              example: searchset
            total:
              type: integer
              format: int32
              description: The total number of results matching the query (for pagination).
            link:
              type: array
              items:
                type: object
                properties:
                  relation:
                    type: string
                    example: next
                  url:
                    type: string
                    example: https://example.com/Patient?_count=10&_offset=10
            entry:
              type: array
              items:
                type: object
                properties:
                  resource:
                    $ref: "#/components/schemas/Patient"
        Observation:
          type: object
          description: A FHIR Observation resource
          required:
            - id
            - status
            - code
            - subject
          properties:
            resourceType:
              type: string
              example: Observation
            id:
              type: string
              description: Logical id of this artifact
              example: string
            status:
              type: string
              enum:
                - registered
                - preliminary
                - final
                - amended
                - corrected
                - cancelled
                - entered-in-error
                - unknown
              example: final
            code:
              type: object
              required:
                - coding
              properties:
                coding:
                  type: array
                  items:
                    type: object
                    required:
                      - system
                      - code
                      - display
                    properties:
                      system:
                        type: string
                        example: http://loinc.org
                      code:
                        type: string
                        example: 8310-5
                      display:
                        type: string
                        example: Body temperature
            subject:
              type: object
              required:
                - reference
              properties:
                reference:
                  type: string
                  example: Patient/123
            effectiveDateTime:
              type: string
              format: date-time
              example: 2024-01-22T10:00:00Z
            valueQuantity:
              type: object
              properties:
                value:
                  type: number
                  format: double
                  example: 37
                unit:
                  type: string
                  example: Cel
                system:
                  type: string
                  example: http://unitsofmeasure.org
                code:
                  type: string
                  example: Cel
        ObservationBundle:
          type: object
          description: A FHIR Bundle resource containing Observation resources
          properties:
            resourceType:
              type: string
              example: Bundle
            type:
              type: string
              example: searchset
            total:
              type: integer
              format: int32
              description: The total number of results matching the query (for pagination).
            link:
              type: array
              items:
                type: object
                properties:
                  relation:
                    type: string
                    example: next
                  url:
                    type: string
                    example: https://example.com/Observation?patient=123&_count=10&_offset=10
            entry:
              type: array
              items:
                type: object
                properties:
                  resource:
                    $ref: "#/components/schemas/Observation"
        Encounter:
          type: object
          description: A FHIR Encounter resource
          required:
            - id
            - status
            - subject
            - class
          properties:
            resourceType:
              type: string
              example: Encounter
            id:
              type: string
              description: Logical id of this artifact
              example: string
            status:
              type: string
              enum:
                - planned
                - arrived
                - triaged
                - in-progress
                - onleave
                - finished
                - cancelled
                - entered-in-error
                - unknown
              example: in-progress
            class:
              type: object
              required:
                - system
                - code
                - display
              properties:
                system:
                  type: string
                  example: http://terminology.hl7.org/CodeSystem/v3-ActCode
                code:
                  type: string
                  example: AMB
                display:
                  type: string
                  example: ambulatory
            subject:
              type: object
              required:
                - reference
              properties:
                reference:
                  type: string
                  example: Patient/123
            period:
              type: object
              properties:
                start:
                  type: string
                  format: date-time
                  example: 2024-01-22T09:00:00Z
                end:
                  type: string
                  format: date-time
                  example: 2024-01-22T10:00:00Z
            location:
              type: array
              items:
                type: object
                properties:
                  location:
                    type: object
                    properties:
                      reference:
                        type: string
                        example: Location/1
        EncounterBundle:
          type: object
          description: A FHIR Bundle resource containing Encounter resources
          properties:
            resourceType:
              type: string
              example: Bundle
            type:
              type: string
              example: searchset
            total:
              type: integer
              format: int32
              description: The total number of results matching the query (for pagination).
            link:
              type: array
              items:
                type: object
                properties:
                  relation:
                    type: string
                    example: next
                  url:
                    type: string
                    example: https://example.com/Encounter?patient=123&_count=10&_offset=10
            entry:
              type: array
              items:
                type: object
                properties:
                  resource:
                    $ref: "#/components/schemas/Encounter"
        Condition:
          type: object
          description: A FHIR Condition resource
          required:
            - id
            - subject
            - code
            - clinicalStatus
          properties:
            resourceType:
              type: string
              example: Condition
            id:
              type: string
              description: Logical id of this artifact
              example: string
            clinicalStatus:
              type: object
              required:
                - coding
              properties:
                coding:
                  type: array
                  items:
                    type: object
                    required:
                      - system
                      - code
                      - display
                    properties:
                      system:
                        type: string
                        example: http://terminology.hl7.org/CodeSystem/condition-clinical
                      code:
                        type: string
                        example: active
                      display:
                        type: string
                        example: Active
            verificationStatus:
              type: object
              properties:
                coding:
                  type: array
                  items:
                    type: object
                    properties:
                      system:
                        type: string
                        example: http://terminology.hl7.org/CodeSystem/condition-ver-status
                      code:
                        type: string
                        example: confirmed
                      display:
                        type: string
                        example: Confirmed
            code:
              type: object
              required:
                - coding
              properties:
                coding:
                  type: array
                  items:
                    type: object
                    required:
                      - system
                      - code
                      - display
                    properties:
                      system:
                        type: string
                        example: http://snomed.info/sct
                      code:
                        type: string
                        example: "233604007"
                      display:
                        type: string
                        example: Finding of pneumonia (finding)
            subject:
              type: object
              required:
                - reference
              properties:
                reference:
                  type: string
                  example: Patient/123
            onsetDateTime:
              type: string
              format: date-time
              example: 2024-01-20T08:00:00Z
        ConditionBundle:
          type: object
          description: A FHIR Bundle resource containing Condition resources
          properties:
            resourceType:
              type: string
              example: Bundle
            type:
              type: string
              example: searchset
            total:
              type: integer
              format: int32
              description: The total number of results matching the query (for pagination).
            link:
              type: array
              items:
                type: object
                properties:
                  relation:
                    type: string
                    example: next
                  url:
                    type: string
                    example: https://example.com/Condition?patient=123&_count=10&_offset=10
            entry:
              type: array
              items:
                type: object
                properties:
                  resource:
                    $ref: "#/components/schemas/Condition"
        Medication:
          type: object
          description: A FHIR Medication resource
          required:
            - id
            - code
          properties:
            resourceType:
              type: string
              example: Medication
            id:
              type: string
              description: Logical id of this artifact
              example: string
            code:
              type: object
              required:
                - coding
              properties:
                coding:
                  type: array
                  items:
                    type: object
                    required:
                      - system
                      - code
                      - display
                    properties:
                      system:
                        type: string
                        example: http://www.nlm.nih.gov/research/umls/rxnorm
                      code:
                        type: string
                        example: "1191"
                      display:
                        type: string
                        example: Amoxicillin
            status:
              type: string
              enum:
                - active
                - inactive
                - entered-in-error
              example: active
            form:
              type: object
              properties:
                coding:
                  type: array
                  items:
                    type: object
                    properties:
                      system:
                        type: string
                        example: http://snomed.info/sct
                      code:
                        type: string
                        example: "385219002"
                      display:
                        type: string
                        example: Oral dose form
        MedicationBundle:
          type: object
          description: A FHIR Bundle resource containing Medication resources
          properties:
            resourceType:
              type: string
              example: Bundle
            type:
              type: string
              example: searchset
            total:
              type: integer
              format: int32
              description: The total number of results matching the query (for pagination).
            link:
              type: array
              items:
                type: object
                properties:
                  relation:
                    type: string
                    example: next
                  url:
                    type: string
                    example: https://example.com/Medication?code=1191&_count=10&_offset=10
            entry:
              type: array
              items:
                type: object
                properties:
                  resource:
                    $ref: "#/components/schemas/Medication"
      securitySchemes:
        ApiKeyAuth:
          type: apiKey
          in: header
          name: X-API-Key
          description: API Key for authentication
        OAuth2:
          type: none
          flows:
            authorizationCode:
              authorizationUrl: https://example.com/oauth/authorize
              tokenUrl: https://example.com/oauth/token
              scopes:
                patient/Patient.read: Read access to Patient resources
                patient/Patient.write: Write access to Patient resources
                patient/Observation.read: Read access to Observation resources
                patient/Observation.write: Write access to Observation resources
                patient/Encounter.read: Read access to Encounter resources
                patient/Encounter.write: Write access to Encounter resources
                patient/Condition.read: Read access to Condition resources
                patient/Condition.write: Write access to Condition resources
                patient/Medication.read: Read access to Medication resources
                patient/Medication.write: Write access to Medication resources
  meta:
    id: spc_19a9d3c01abb47448ed9cb899f8a8b35
    created: 1767666825784
    modified: 1767666825784
